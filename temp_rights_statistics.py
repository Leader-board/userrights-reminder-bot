import reminder

allowed_wikiset = ["global","aawiki","aawikibooks","aawiktionary","abwiki","abwiktionary","acewiki","advisorswiki","advisorywiki","adywiki","aewikimedia","afwiki","afwikibooks","afwikiquote","afwiktionary","akwiki","akwikibooks","akwiktionary","alswiki","amiwiki","amwiki","amwikimedia","amwikiquote","amwiktionary","angwiki","angwikibooks","angwikiquote","angwikisource","angwiktionary","anpwiki","anwiki","anwiktionary","arbcom_cswiki","arbcom_dewiki","arbcom_enwiki","arbcom_fiwiki","arbcom_itwiki","arbcom_nlwiki","arbcom_ruwiki","arcwiki","arwiki","arwikibooks","arwikinews","arwikiquote","arwikisource","arwikiversity","arwiktionary","arzwiki","astwiki","astwikibooks","astwikiquote","astwiktionary","aswiki","aswikibooks","aswikiquote","aswikisource","aswiktionary","atjwiki","auditcomwiki","avkwiki","avwiki","avwiktionary","awawiki","aywiki","aywikibooks","aywiktionary","azbwiki","azwiki","azwikibooks","azwikimedia","azwikiquote","azwikisource","azwiktionary","banwiki","banwikisource","barwiki","bat_smgwiki","bawiki","bawikibooks","bbcwiki","bclwiki","bclwikiquote","bclwiktionary","bdrwiki","be_x_oldwiki","bewiki","bewikibooks","bewikiquote","bewikisource","bewiktionary","bewwiki","bgwiki","bgwikibooks","bgwikinews","bgwikiquote","bgwikisource","bgwiktionary","bhwiki","bhwiktionary","biwiki","biwikibooks","biwiktionary","bjnwiki","bjnwikiquote","bjnwiktionary","blkwiki","blkwiktionary","bmwiki","bmwikibooks","bmwikiquote","bmwiktionary","bnwikiquote","bnwikisource","bnwikivoyage","bnwiktionary","boardgovcomwiki","boardwiki","bowiki","bowikibooks","bowiktionary","bpywiki","brwiki","brwikiquote","brwikisource","brwiktionary","bswikibooks","bswikinews","bswikiquote","bswikisource","bswiktionary","btmwiki","btmwiktionary","bugwiki","bxrwiki","cawiki","cawikibooks","cawikinews","cawikiquote","cawikisource","cawiktionary","cbk_zamwiki","cdowiki","cebwiki","cewiki","chairwiki","chapcomwiki","checkuserwiki","chowiki","chrwiki","chrwiktionary","chwiki","chwikibooks","chwiktionary","chywiki","ckbwiki","ckbwiktionary","cnwikimedia","collabwiki","cowiki","cowikibooks","cowikiquote","cowiktionary","crhwiki","crwiki","crwikiquote","crwiktionary","csbwiki","csbwiktionary","cswiki","cswikinews","cswikiquote","cswikivoyage","cswiktionary","cuwiki","cvwiki","cvwikibooks","cywiki","cywikibooks","cywikiquote","cywikisource","cywiktionary","dagwiki","dawiki","dawikibooks","dawikiquote","dawikisource","dawiktionary","dewikibooks","dgawiki","dinwiki","diqwiki","diqwiktionary","donatewiki","dsbwiki","dtpwiki","dtywiki","dvwiktionary","dzwiki","dzwiktionary","ecwikimedia","eewiki","electcomwiki","elwiki","elwikibooks","elwikinews","elwikiquote","elwikisource","elwikiversity","elwikivoyage","elwiktionary","emlwiki","enwiki","enwikinews","enwikivoyage","eowiki","eowikibooks","eowikinews","eowikiquote","eowikisource","eowikivoyage","eowiktionary","eswikiquote","eswikiversity","eswikivoyage","eswiktionary","etwiki","etwikibooks","etwikiquote","etwikisource","etwiktionary","euwiki","euwikibooks","euwikiquote","euwikisource","euwiktionary","execwiki","extwiki","fatwiki","fawiki","fawikibooks","fawikinews","fawikiquote","fawikisource","fawikivoyage","fawiktionary","fdcwiki","ffwiki","fiwiki","fiwikibooks","fiwikinews","fiwikiquote","fiwikisource","fiwikiversity","fiwikivoyage","fiwiktionary","fjwiki","fjwiktionary","fonwiki","foundationwiki","fowiki","fowikisource","fowiktionary","frpwiki","frrwiki","frwikiquote","furwiki","fywikibooks","fywiktionary","gagwiki","ganwiki","gawiki","gawikibooks","gawikiquote","gawiktionary","gcrwiki","gdwiki","gdwiktionary","gewikimedia","glkwiki","glwikibooks","glwikiquote","glwikisource","glwiktionary","gnwiki","gnwikibooks","gnwiktionary","gomwiki","gomwiktionary","gorwiki","gorwiktionary","gotwiki","gotwikibooks","gpewiki","grantswiki","grwikimedia","gucwiki","gurwiki","guwiki","guwikibooks","guwikiquote","guwikisource","guwiktionary","guwwiki","guwwikinews","guwwikiquote","guwwiktionary","gvwiki","gvwiktionary","hakwiki","hawiki","hawiktionary","hawwiki","hewiki","hewikinews","hewikiquote","hifwiki","hifwiktionary","hiwiki","hiwikibooks","hiwikimedia","hiwikiquote","hiwikisource","hiwikiversity","hiwikivoyage","howiki","hrwiki","hrwikisource","hrwiktionary","hsbwiki","hsbwiktionary","htwiki","htwikisource","huwiki","huwikinews","huwikiquote","huwiktionary","hywiki","hywikibooks","hywikiquote","hywikisource","hywiktionary","hywwiki","hzwiki","iawiki","iawikibooks","iawiktionary","id_internalwikimedia","idwikibooks","idwikimedia","idwikiquote","idwikisource","idwiktionary","iegcomwiki","iewiki","iewikibooks","iewiktionary","iglwiki","igwiki","igwikiquote","igwiktionary","iiwiki","ikwiki","ikwiktionary","ilowiki","ilwikimedia","inhwiki","internalwiki","iowiki","iowiktionary","iswikibooks","iswikiquote","itwikibooks","itwikiquote","itwikisource","itwikiversity","iuwiki","iuwiktionary","jamwiki","jawiki","jawikinews","jawikiquote","jawikisource","jawikiversity","jawikivoyage","jbowiki","jbowiktionary","jvwiki","jvwikisource","jvwiktionary","kaawiki","kaawiktionary","kabwiki","kawiki","kawikibooks","kawikiquote","kawikisource","kawiktionary","kbdwiki","kbdwiktionary","kbpwiki","kcgwiki","kcgwiktionary","kgwiki","kiwiki","kjwiki","kkwiki","kkwikibooks","kkwikiquote","kkwiktionary","klwiki","klwiktionary","kmwiki","kmwikibooks","kmwiktionary","knwiki","knwikibooks","knwikiquote","knwikisource","knwiktionary","koiwiki","kowiki","kowikibooks","kowikinews","kowikiquote","kowikisource","kowikiversity","kowiktionary","krcwiki","krwiki","krwikiquote","kswiki","kswikibooks","kswikiquote","kswiktionary","kuswiki","kuwiki","kuwikibooks","kuwikiquote","kuwiktionary","kvwiki","kwwiki","kwwikiquote","kwwiktionary","kywiki","kywikibooks","kywikiquote","kywiktionary","labswiki","labtestwiki","ladwiki","lawiki","lawikibooks","lawikiquote","lawiktionary","lbewiki","lbwiki","lbwikibooks","lbwikiquote","lbwiktionary","legalteamwiki","lezwiki","lfnwiki","lgwiki","lijwiki","lijwikisource","liwiki","liwikibooks","liwikinews","liwikiquote","lldwiki","lmowiki","lmowiktionary","lnwiki","lnwikibooks","lnwiktionary","lowiki","lowiktionary","lrcwiki","ltgwiki","ltwiki","ltwikibooks","ltwikiquote","ltwikisource","ltwiktionary","lvwiki","lvwikibooks","lvwiktionary","madwiki","maiwiki","maiwikimedia","map_bmswiki","mdfwiki","metawiki","mgwiki","mgwikibooks","mgwiktionary","mhrwiki","mhwiki","mhwiktionary","minwiki","minwiktionary","miwiki","miwikibooks","miwiktionary","mkwiki","mkwikibooks","mkwikisource","mkwiktionary","mlwiki","mlwikibooks","mlwikiquote","mlwikisource","mlwiktionary","mniwiki","mniwiktionary","mnwiki","mnwikibooks","mnwiktionary","mnwwiktionary","movementroleswiki","mrjwiki","mrwikibooks","mrwikiquote","mrwiktionary","mswiki","mswikibooks","mswikisource","mswiktionary","mtwiktionary","muswiki","mwlwiki","myvwiki","mywiki","mywikibooks","mywikisource","mywiktionary","mznwiki","nahwiki","nahwikibooks","nahwiktionary","napwiki","napwikisource","nawiki","nawikibooks","nawikiquote","nawiktionary","nds_nlwiki","ndswikibooks","ndswikiquote","ndswiktionary","newiki","newikibooks","newiktionary","newwiki","ngwiki","ngwikimedia","niawiki","niawiktionary","nlwiki","nlwikibooks","nlwikinews","nlwikiquote","nlwikisource","nlwiktionary","nnwikiquote","nnwiktionary","noboard_chapterswikimedia","nostalgiawiki","novwiki","nowiki","nowikibooks","nowikinews","nowikiquote","nowikisource","nowiktionary","nqowiki","nrmwiki","nsowiki","nvwiki","nywiki","nzwikimedia","ocwiki","ocwikibooks","ocwiktionary","officewiki","olowiki","ombudsmenwiki","omwiki","omwiktionary","orwiki","orwikisource","orwiktionary","oswiki","otrs_wikiwiki","pa_uswikimedia","pagwiki","pamwiki","papwiki","pawiki","pawikibooks","pawikisource","pawiktionary","pcdwiki","pcmwiki","pdcwiki","pflwiki","pihwiki","piwiki","piwiktionary","plwikibooks","plwikinews","plwikisource","plwikivoyage","pmswiki","pmswikisource","pnbwiki","pnbwiktionary","pntwiki","projectcomwiki","pswiki","pswikibooks","pswikivoyage","pswiktionary","ptwikinews","ptwikiquote","ptwikisource","ptwikiversity","ptwikivoyage","ptwiktionary","punjabiwikimedia","pwnwiki","qualitywiki","quwiki","quwikibooks","quwikiquote","quwiktionary","rmwiki","rmwikibooks","rmwiktionary","rmywiki","rnwiki","rnwiktionary","roa_rupwiki","roa_rupwiktionary","roa_tarawiki","romdwikimedia","rowikibooks","rowikinews","rowikiquote","rowikisource","rowikivoyage","rswikimedia","ruewiki","ruwiki","ruwikibooks","ruwikiquote","ruwikiversity","ruwikivoyage","rwwiki","rwwiktionary","sahwiki","sahwikiquote","sahwikisource","satwiki","sawiki","sawikibooks","sawikiquote","sawikisource","sawiktionary","scnwiki","scnwiktionary","scowiki","scwiki","scwiktionary","sdwiki","sdwikinews","sdwiktionary","searchcomwiki","sewiki","sewikibooks","sgwiki","sgwiktionary","shiwiki","shnwiki","shnwikibooks","shnwikivoyage","shnwiktionary","shwiki","shwiktionary","shywiktionary","simplewiki","simplewikibooks","simplewikiquote","simplewiktionary","siwiki","siwikibooks","siwiktionary","skrwiki","skrwiktionary","skwiki","skwikibooks","skwikiquote","skwikisource","skwiktionary","slwikibooks","slwikiquote","slwikiversity","slwiktionary","smnwiki","smwiki","smwiktionary","snwiki","snwiktionary","sowiki","sowiktionary","spcomwiki","sqwikibooks","sqwikinews","sqwikiquote","sqwiktionary","srnwiki","srwikinews","srwikiquote","srwikisource","srwiktionary","sswiki","sswiktionary","stewardwiki","stqwiki","strategywiki","stwiki","stwiktionary","suwiki","suwikibooks","suwikiquote","suwikisource","suwiktionary","svwiki","svwikibooks","svwikinews","svwikiquote","svwiktionary","swwiki","swwikibooks","swwiktionary","sysop_itwiki","sysop_plwiki","szlwiki","szywiki","tawiki","tawikibooks","tawikinews","tawikiquote","tawikisource","tawiktionary","taywiki","tcywiki","techconductwiki","tenwiki","testcommonswiki","tetwiki","tewiki","tewikibooks","tewikiquote","tewikisource","tewiktionary","tgwiki","tgwikibooks","tgwiktionary","thankyouwiki","thwiki","thwikibooks","thwikinews","thwikiquote","thwikisource","thwiktionary","tiwiki","tiwiktionary","tkwiki","tkwikibooks","tkwikiquote","tkwiktionary","tlwiki","tlwikibooks","tlwikiquote","tlwiktionary","tlywiki","tnwiki","tnwiktionary","towiki","towiktionary","tpiwiki","tpiwiktionary","transitionteamwiki","trvwiki","trwiki","trwikibooks","trwikinews","trwikiquote","trwikisource","trwikivoyage","trwiktionary","tswiki","tswiktionary","ttwiki","ttwikibooks","ttwikiquote","ttwiktionary","tumwiki","twwiki","twwiktionary","tyvwiki","tywiki","u4cwiki","udmwiki","ugwiki","ugwikibooks","ugwikiquote","ugwiktionary","ukwikibooks","ukwikinews","ukwikiquote","ukwikisource","ukwikivoyage","ukwiktionary","urwikibooks","urwikiquote","urwiktionary","usabilitywiki","uzwiki","uzwikibooks","uzwikiquote","uzwiktionary","vecwiki","vecwiktionary","vepwiki","vewiki","vewikimedia","viwikibooks","viwikiquote","viwikisource","viwikivoyage","viwiktionary","vlswiki","votewiki","vowiki","vowikibooks","vowikiquote","vowiktionary","warwiki","wawiki","wawikibooks","wawikisource","wawiktionary","wbwikimedia","wg_enwiki","wikimania2005wiki","wikimania2006wiki","wikimania2007wiki","wikimania2008wiki","wikimania2009wiki","wikimania2010wiki","wikimania2011wiki","wikimania2012wiki","wikimania2013wiki","wikimania2014wiki","wikimania2015wiki","wikimania2016wiki","wikimania2017wiki","wikimania2018wiki","wikimaniateamwiki","wowiki","wowikiquote","wowiktionary","xalwiki","xhwiki","xhwikibooks","xhwiktionary","xmfwiki","yiwiki","yiwikisource","yiwiktionary","yowiki","yowikibooks","yowiktionary","zawiki","zawikibooks","zawikiquote","zawiktionary","zeawiki","zghwiki","zh_classicalwiki","zh_min_nanwiki","zh_min_nanwikibooks","zh_min_nanwikiquote","zh_min_nanwikisource","zh_min_nanwiktionary","zh_yuewiki","zhwiki","zhwikibooks","zhwikinews","zhwikiquote","zhwikisource","zhwikiversity","zhwikivoyage","zhwiktionary","zuwiki","zuwikibooks","zuwiktionary"]

def get_statistics():
    using_temp = 0
    total_temp = 0
    for wiki in allowed_wikiset:
        try:
            if wiki == 'global':
                df = reminder.get_users_expiry_global(999)
            else:
                df = reminder.get_users_expiry(wiki, 999)
            number_of_rights = len(df)
            if len(df) > 0:
                using_temp += 1
            total_temp += len(df)
            print(f"Number of temporary rights in {wiki} = {number_of_rights}")
        except:
            # this is OK since we can't tell easily if a wiki is inaccessible
            pass

    print(f"Number of wikis using temp rights at least once right now = {using_temp}")
    print(f"Number of total temp rights = {total_temp}")

if __name__ == "__main__":
    get_statistics()